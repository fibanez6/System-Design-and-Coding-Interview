= Databases
:doctype: article
:toc:
:toclevels: 2

== Database Terminologies

- **Database**: An organized collection of structured data, typically stored electronically.
- **DBMS (Database Management System)**: Software for creating, managing, and manipulating databases.
- **RDBMS (Relational Database Management System)**: A DBMS based on the relational model, using tables with rows and columns.
- **Table**: A collection of related data entries consisting of rows and columns.
- **Row (Record)**: A single, structured data item in a table.
- **Column (Field/Attribute)**: A specific category of data in a table.
- **Primary Key**: A unique identifier for each record in a table.
- **Foreign Key**: A field in one table that uniquely identifies a row of another table, used to establish relationships.
- **Index**: A data structure that improves the speed of data retrieval operations.
- **Normalization**: The process of organizing data to reduce redundancy and improve integrity.
- **Denormalization**: The process of combining tables to improve read performance at the expense of redundancy.
- **Transaction**: A sequence of database operations that are treated as a single unit.
- **ACID Properties**: Atomicity, Consistency, Isolation, Durabilityâ€”guarantees for reliable transactions.
- **SQL (Structured Query Language)**: The standard language for querying and manipulating relational databases.
- **NoSQL**: Non-relational databases designed for scalability and flexibility, e.g., document, key-value, graph, or column-family stores.
- **Schema**: The structure that defines the organization of data in a database.
- **Stored Procedure**: A set of SQL statements that can be executed as a program.
- **Trigger**: A procedure that is automatically executed in response to certain events on a table.
- **View**: A virtual table based on the result of a query.
- **Sharding**: Partitioning data across multiple machines to improve scalability.
- **Replication**: Copying data from one database server to another for redundancy and availability.
- **Rollback**: Reverting a database to a previous state in case of an error during a transaction.

== ACID Properties

ACID is an acronym that stands for Atomicity, Consistency, Isolation, and Durability. These properties are essential for ensuring reliable transactions in a database system.

1. **Atomicity**: This property ensures that a transaction is treated as a single unit of work. Either all operations within the transaction are completed successfully, or none of them are. If any part of the transaction fails, the entire transaction is rolled back, leaving the database in its previous state.

2. **Consistency**: This property ensures that a transaction brings the database from one valid state to another valid state, maintaining all predefined rules, including constraints and cascades. If a transaction violates a consistency rule, it is rolled back.

3. **Isolation**: This property ensures that concurrently executing transactions do not interfere with each other. Each transaction is executed as if it were the only transaction in the system, even if they are running simultaneously.

4. **Durability**: This property ensures that once a transaction has been committed, it will remain committed even in the event of a system failure. The changes made by the transaction are permanently recorded in the database.  


== Database Normalization

Database normalization is the process of organizing the fields and tables of a relational database to minimize redundancy and dependency. The main goals of normalization are to eliminate redundant data, ensure data dependencies make sense, and simplify the structure of the database.

Normalization is typically achieved through a series of steps called normal forms, each with specific rules and requirements. The most common normal forms are:

1. **First Normal Form (1NF)**: Ensures that all columns contain atomic (indivisible) values and that each column contains values of a single type.

2. **Second Normal Form (2NF)**: Builds on 1NF by ensuring that all non-key attributes are fully functionally dependent on the primary key.

3. **Third Normal Form (3NF)**: Further refines 2NF by ensuring that all attributes are only dependent on the primary key and not on other non-key attributes.

4. **Boyce-Codd Normal Form (BCNF)**: A stronger version of 3NF that addresses certain types of anomalies not covered by 3NF.

By applying these normal forms, database designers can create a more efficient and maintainable database structure.

== SQL vs NoSQL Databases

SQL (Structured Query Language) and NoSQL (Not Only SQL) databases are two different types of database management systems, each with its own strengths and use cases.

**SQL Databases**::
- Relational databases that use structured tables with rows and columns.
- Use SQL for defining and manipulating data.
- Examples include MySQL, PostgreSQL, Oracle, and SQL Server.
- Suitable for applications requiring complex queries and transactions.
- Enforce ACID properties for reliable transactions.        

**NoSQL Databases**::
- Non-relational databases that can store unstructured or semi-structured data.
- Use various data models, including document, key-value, graph, and column-family stores.
- Examples include MongoDB, Cassandra, Redis, and Neo4j.
- Suitable for applications requiring scalability, flexibility, and handling large volumes of data.
- Often prioritize availability and partition tolerance over strict consistency (CAP theorem).      


== Common Database Indexing Techniques

Database indexing is a technique used to improve the speed of data retrieval operations on a database table. Here are some common indexing techniques::
1. **B-Tree Index**: A balanced tree structure that maintains sorted data and allows for efficient insertion, deletion, and search operations. It is widely used in relational databases.
2. **Hash Index**: Uses a hash function to map search keys to specific locations in the index. It provides fast lookups for equality comparisons but is not suitable for range queries.
3. **Bitmap Index**: Uses bit arrays (bitmaps) to represent the presence or absence of values in a column. It is efficient for columns with low cardinality (few unique values).
4. **Full-Text Index**: Designed for searching text data, it allows for efficient searching of words and phrases within large text fields.
5. **Spatial Index**: Used for indexing spatial data, such as geographical coordinates. It enables efficient querying of spatial relationships (e.g., proximity searches).
6. **Composite Index**: An index that includes multiple columns from a table. It is useful for queries that filter on multiple columns.
7. **Clustered Index**: Determines the physical order of data in a table. A table can have only one clustered index, as the data rows can be sorted in only one order.
8. **Non-Clustered Index**: A separate structure from the data rows, allowing for multiple non-clustered indexes on a table. It contains pointers to the data rows.

== Database Sharding and Replication

* **Database Sharding**: Sharding is a database architecture pattern that involves partitioning a large database into smaller, more manageable pieces called shards. Each shard is a separate database that contains a subset of the overall data. Sharding helps improve performance and scalability by distributing the load across multiple servers. Common sharding strategies include horizontal sharding (dividing rows) and vertical sharding (dividing columns).

* **Database Replication**: Replication is the process of copying and maintaining database objects, such as tables, in multiple database servers. The primary purpose of replication is to improve data availability and fault tolerance. There are different types of replication, including master-slave replication (one primary server and multiple secondary servers), multi-master replication (multiple primary servers), and snapshot replication (periodic copying of data). Replication can also help with load balancing by distributing read operations across multiple replicas.

== Backup and Recovery Strategies

Backup and recovery strategies are essential for protecting data and ensuring business continuity in the event of data loss or corruption. Common strategies include::
1. **Full Backup**: A complete copy of the entire database. It provides the fastest recovery time but requires the most storage space.
2. **Incremental Backup**: Backs up only the data that has changed since the last backup (full or incremental). It saves storage space but requires more time to restore.
3. **Differential Backup**: Backs up all changes made since the last full backup. It is faster to restore than incremental backups but requires more storage space.
4. **Point-in-Time Recovery**: Allows restoring the database to a specific point in time    by applying transaction logs to a full backup.
5. **Offsite Backup**: Storing backups in a different physical location to protect against site-specific disasters.
6. **Automated Backup**: Using automated tools and scripts to schedule regular backups, reducing the risk of human error.
7. **Testing Recovery Procedures**: Regularly testing backup and recovery procedures to ensure they work as expected and that data can be restored successfully.

== Database Security Best Practices

Database security best practices are essential for protecting sensitive data and ensuring the integrity and availability of database systems. Some common best practices include::
1. **Access Control**: Implementing role-based access control (RBAC) to restrict access to the database based on user roles and responsibilities.
2. **Encryption**: Encrypting sensitive data both at rest and in transit to protect it from unauthorized access.
3. **Regular Updates and Patching**: Keeping database software and related applications up to date with the latest security patches.
4. **Auditing and Monitoring**: Enabling logging and monitoring of database activities to detect and respond to suspicious behavior.
5. **Strong Authentication**: Using strong passwords, multi-factor authentication (MFA), and secure authentication mechanisms.
6. **Data Masking**: Obscuring sensitive data in non-production environments to prevent unauthorized access.
7. **Backup Security**: Ensuring that backups are securely stored and protected from unauthorized access.
8. **Network Security**: Implementing firewalls, VPNs, and other network security measures to protect database servers from external threats.
9. **Regular Security Assessments**: Conducting regular security assessments and vulnerability scans to identify and address potential security risks.
10. **Employee Training**: Educating employees about database security best practices and the importance of protecting sensitive data.